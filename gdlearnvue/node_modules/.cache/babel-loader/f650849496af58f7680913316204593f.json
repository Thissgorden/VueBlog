{"remainingRequest":"C:\\lab\\ProjectFile\\gdlearnvue\\node_modules\\babel-loader\\lib\\index.js!C:\\lab\\ProjectFile\\gdlearnvue\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\lab\\ProjectFile\\gdlearnvue\\src\\axios.js","dependencies":[{"path":"C:\\lab\\ProjectFile\\gdlearnvue\\src\\axios.js","mtime":1634634641107},{"path":"C:\\lab\\ProjectFile\\gdlearnvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634534584806},{"path":"C:\\lab\\ProjectFile\\gdlearnvue\\node_modules\\babel-loader\\lib\\index.js","mtime":1634534585402},{"path":"C:\\lab\\ProjectFile\\gdlearnvue\\node_modules\\eslint-loader\\index.js","mtime":1634534584996}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBFbGVtZW50IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgc3RvcmUgZnJvbSAnLi9zdG9yZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXInOwpheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MSI7IC8v5YmN572u5oum5oiqCgpheGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIHJldHVybiBjb25maWc7Cn0pOyAvL+WQjue9ruaLpuaIqgoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTsgLy8gY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09Iik7CiAgLy8gY29uc29sZS5sb2cocmVzKTsKICAvLyBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKTsKCiAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgIHJldHVybiByZXNwb25zZTsKICB9IGVsc2UgewogICAgRWxlbWVudC5NZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubXNnLCB7CiAgICAgIGR1cmF0aW9uOiAzICogMTAwMAogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcG9uc2UuZGF0YS5tc2cpOwogIH0KfSwgLy/lkI7nva7lhajlsYBlcnJvcuWkhOeQhgpmdW5jdGlvbiAoZXJyb3IpIHsKICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgLy9FUlJPUuS4uuepuuWImeWFiOi1i+WAvAogICAgZXJyb3IubWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEubXNnOwogIH0gLy80MDHmnKrmjojmnYMKCgogIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgc3RvcmUuY29tbWl0KCJSRU1PVkVfSU5GTyIpOwogICAgcm91dGVyLnB1c2goIi9sb2dpbiIpOwogIH0KCiAgRWxlbWVudC5NZXNzYWdlLmVycm9yKGVycm9yLm1lc3NhZ2UsIHsKICAgIGR1cmF0aW9uOiAzICogMTAwMAogIH0pOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOw=="},{"version":3,"sources":["C:/lab/ProjectFile/gdlearnvue/src/axios.js"],"names":["axios","Element","store","router","defaults","baseURL","interceptors","request","use","config","response","res","data","code","Message","error","msg","duration","Promise","reject","message","status","commit","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEAH,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAyB,uBAAzB,C,CAEA;;AACAL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,MAAM,EAAI;AACrC,SAAOA,MAAP;AACH,CAFD,E,CAGA;;AACAT,KAAK,CAACM,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,UAAAE,QAAQ,EAAI;AACpC,MAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB,CADoC,CAGpC;AACA;AACA;;AAEA,MAAID,GAAG,CAACE,IAAJ,KAAa,GAAjB,EAAsB;AAClB,WAAOH,QAAP;AACH,GAFD,MAEO;AACHT,IAAAA,OAAO,CAACa,OAAR,CAAgBC,KAAhB,CAAsBL,QAAQ,CAACE,IAAT,CAAcI,GAApC,EAAyC;AAACC,MAAAA,QAAQ,EAAE,IAAI;AAAf,KAAzC;AAEA,WAAOC,OAAO,CAACC,MAAR,CAAeT,QAAQ,CAACE,IAAT,CAAcI,GAA7B,CAAP;AACH;AACJ,CAdL,EAeQ;AACA,UAAAD,KAAK,EAAI;AACb,MAAGA,KAAK,CAACL,QAAN,CAAeE,IAAlB,EAAuB;AAAC;AACpBG,IAAAA,KAAK,CAACK,OAAN,GAAgBL,KAAK,CAACL,QAAN,CAAeE,IAAf,CAAoBI,GAApC;AACH,GAHY,CAIL;;;AACR,MAAGD,KAAK,CAACL,QAAN,CAAeW,MAAf,KAA0B,GAA7B,EAAiC;AAC7BnB,IAAAA,KAAK,CAACoB,MAAN,CAAa,aAAb;AACAnB,IAAAA,MAAM,CAACoB,IAAP,CAAY,QAAZ;AACH;;AAEDtB,EAAAA,OAAO,CAACa,OAAR,CAAgBC,KAAhB,CAAsBA,KAAK,CAACK,OAA5B,EAAoC;AAACH,IAAAA,QAAQ,EAAE,IAAE;AAAb,GAApC;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACC,CA5BL","sourcesContent":["import axios from 'axios'\r\nimport Element from 'element-ui'\r\nimport store from './store'\r\nimport router from './router'\r\n\r\naxios.defaults.baseURL = \"http://localhost:8081\"\r\n\r\n//前置拦截\r\naxios.interceptors.request.use(config => {\r\n    return config;\r\n});\r\n//后置拦截\r\naxios.interceptors.response.use(response => {\r\n        let res = response.data;\r\n\r\n        // console.log(\"=============================\");\r\n        // console.log(res);\r\n        // console.log(\"=============================\");\r\n\r\n        if (res.code === 200) {\r\n            return response;\r\n        } else {\r\n            Element.Message.error(response.data.msg, {duration: 3 * 1000});\r\n\r\n            return Promise.reject(response.data.msg);\r\n        }\r\n    },\r\n        //后置全局error处理\r\n        error => {\r\n    if(error.response.data){//ERROR为空则先赋值\r\n        error.message = error.response.data.msg\r\n    }\r\n            //401未授权\r\n    if(error.response.status === 401){\r\n        store.commit(\"REMOVE_INFO\");\r\n        router.push(\"/login\");\r\n    }\r\n\r\n    Element.Message.error(error.message,{duration: 3*1000});\r\n    return Promise.reject(error);\r\n    }\r\n);"]}]}